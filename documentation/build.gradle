description = "Jqwik Documentation generation"

task generateUserGuide(type: Copy) {
	from 'src/docs/'
	into "$buildDir/docs"
	include 'user-guide.template.md'
	rename { file -> 'user-guide.md'}
	expand(
		version: version,
		gitVersion: 'master', // when snapshot, otherwise version
		docsVersion: 'snapshot', // when snapshot, otherwise version or 'current'
		releaseNotesVersion: '#100-snapshot',
		junitPlatformVersion: '1.3.2',
		junitJupiterVersion: '5.3.2',
	)
}

test {
	useJUnitPlatform {
		includeEngines "jqwik"
	}

	include 'net/**/*Properties.class'
	include 'net/**/*Example.class'
	include 'net/**/*Examples.class'
	include 'net/**/*Test.class'
	include 'net/**/*Tests.class'

	// testLogging.showStandardStreams = true
}

dependencies {
	testCompile(project(":base"))
	testCompile("org.mockito:mockito-core:2.23.4")
	testCompile("org.assertj:assertj-core:3.11.1")
	testCompile("org.junit.platform:junit-platform-launcher:${junitPlatformVersion}")

	// Only needed to check interferences between Jupiter and jqwik
	testCompile("org.junit.jupiter:junit-jupiter-engine:${junitJupiterVersion}")
}
